'use client';
import{useState}from'react';
const D=[{"code":"503","title":"Bosch - Speed Sensor","desc":"Speed sensor signal lost.","severity":"moderate","causes":["Magnet misaligned","Gap too large"],"fixes":["Check magnet","Adjust gap 1-3mm"]},{"code":"504","title":"Bosch - Torque Sensor","desc":"No pedal assist.","severity":"high","causes":["Faulty sensor","Water intrusion"],"fixes":["Check connector","Dealer service"]},{"code":"530","title":"Bosch - Controller","desc":"Internal fault.","severity":"high","causes":["Firmware","Water damage"],"fixes":["Power cycle","Update firmware"]},{"code":"E01","title":"Shimano - Comm Error","desc":"Display/drive comm failure.","severity":"moderate","causes":["Loose cable"],"fixes":["Check connections"]},{"code":"10","title":"Bafang - Hall Sensor","desc":"Motor hall fault.","severity":"moderate","causes":["Damaged sensors"],"fixes":["Check cable","Motor replacement"]},{"code":"E08","title":"Generic - Throttle","desc":"Signal out of range.","severity":"moderate","causes":["Faulty throttle"],"fixes":["Test voltage","Replace"]},{"code":"E04","title":"Generic - Brake Sensor","desc":"Cutoff stuck on.","severity":"low","causes":["Misaligned sensor"],"fixes":["Adjust position"]}];
export default function EBikeErrors(){const[s,setS]=useState('');const[x,setX]=useState(null);const f=D.filter(d=>!s||(d.code||'').toLowerCase().includes(s.toLowerCase())||d.title.toLowerCase().includes(s.toLowerCase())||d.desc.toLowerCase().includes(s.toLowerCase()));return(<div className="min-h-screen bg-background"><header className="border-b border-border px-4 py-3"><div className="max-w-4xl mx-auto flex items-center gap-3"><a href="/ebike" className="text-text-muted hover:text-text-primary text-sm">\u2190 E-Bike</a><span className="text-border">|</span><h1 className="font-bold" style={{color:'#22C55E'}}>ðŸ”§ Error Codes</h1></div></header><div className="max-w-4xl mx-auto px-4 py-8"><h2 className="text-2xl font-bold mb-6">Error Codes</h2><p className="text-text-muted text-sm mb-4">Search by code or brand.</p><input type="text" value={s} onChange={e=>setS(e.target.value)} placeholder="Search 503, Bosch..." className="mc-input mb-6"/><div className="space-y-3">{f.map((d,i)=>(<div key={i} className="mc-card overflow-hidden"><button onClick={()=>setX(x===i?null:i)} className="w-full p-4 text-left hover:bg-background/50"><div className="flex items-start gap-4">{d.code&&<div className="font-mono font-bold text-lg w-20" style={{color:'#22C55E'}}>{d.code}</div>}<div className="flex-1"><h3 className="font-semibold mb-1">{d.title}</h3><p className="text-text-muted text-sm">{d.desc}</p></div>{d.severity&&<span className="text-xs font-bold px-2 py-1 rounded" style={{backgroundColor:d.severity==='high'?'rgba(239,68,68,.15)':d.severity==='moderate'?'rgba(245,158,11,.15)':'rgba(34,197,94,.15)',color:d.severity==='high'?'#EF4444':d.severity==='moderate'?'#F59E0B':'#22C55E'}}>{d.severity}</span>}</div></button>{x===i&&<div className="border-t border-border p-4 bg-surface/50"><p className="text-text-secondary text-sm mb-3">{d.desc}</p>{d.causes&&<div className="grid grid-cols-1 md:grid-cols-2 gap-4"><div><h4 className="font-bold text-sm mb-2 text-danger">Causes</h4>{d.causes.map((c,j)=><p key={j} className="text-sm text-text-muted">\u2022 {c}</p>)}</div>{d.fixes&&<div><h4 className="font-bold text-sm mb-2 text-ebike">Fixes</h4>{d.fixes.map((f,j)=><p key={j} className="text-sm text-text-muted">{j+1}. {f}</p>)}</div>}</div>}<div className="mt-3 pt-3 border-t border-border"><a href="/ai-chat" className="text-sm hover:underline" style={{color:'#22C55E'}}>\ud83e\udd16 Ask AI \u2192</a></div></div>}</div>))}</div></div></div>);}