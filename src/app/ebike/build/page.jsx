'use client';
import { useState } from 'react';

export default function EBikeBuild() {
  const [v, setV] = useState({ bike: '', motor: '', batt: '', misc: '', wh: '' });
  const [r, setR] = useState(null);

  const go = () => {
    const total = Number(v.bike) + Number(v.motor) + Number(v.batt) + Number(v.misc);
    const wh = Number(v.wh) || 672;
    const range = Math.round(wh / 20);
    setR('Total: $' + total + ' | ' + wh + 'Wh | ~' + range + '-' + Math.round(range * 1.5) + ' mi range');
  };

  return (
    <div className="min-h-screen bg-background">
      <header className="border-b border-border px-4 py-3">
        <div className="max-w-4xl mx-auto flex items-center gap-3">
          <a href="/ebike" className="text-text-muted hover:text-text-primary text-sm">
            ‚Üê E-Bike
          </a>
          <span className="text-border">|</span>
          <h1 className="font-bold" style={{ color: '#22C55E' }}>
            üõ†Ô∏è Build Calculator
          </h1>
        </div>
      </header>
      <div className="max-w-2xl mx-auto px-4 py-8">
        <h2 className="text-2xl font-bold mb-2">Build Calculator</h2>
        <p className="text-text-muted text-sm mb-8">Estimate custom build cost.</p>
        <div className="mc-card p-6 space-y-4">
          <div>
            <label className="block text-sm font-medium mb-1.5">Base Bike ($)</label>
            <input type="number" value={v.bike} onChange={e => setV({ ...v, bike: e.target.value })} placeholder="400" className="mc-input" />
          </div>
          <div>
            <label className="block text-sm font-medium mb-1.5">Motor Kit ($)</label>
            <input type="number" value={v.motor} onChange={e => setV({ ...v, motor: e.target.value })} placeholder="350" className="mc-input" />
          </div>
          <div>
            <label className="block text-sm font-medium mb-1.5">Battery ($)</label>
            <input type="number" value={v.batt} onChange={e => setV({ ...v, batt: e.target.value })} placeholder="400" className="mc-input" />
          </div>
          <div>
            <label className="block text-sm font-medium mb-1.5">Display/Misc ($)</label>
            <input type="number" value={v.misc} onChange={e => setV({ ...v, misc: e.target.value })} placeholder="150" className="mc-input" />
          </div>
          <div>
            <label className="block text-sm font-medium mb-1.5">Battery Wh</label>
            <input type="number" value={v.wh} onChange={e => setV({ ...v, wh: e.target.value })} placeholder="672" className="mc-input" />
          </div>
          <button onClick={go} className="mc-btn text-white w-full" style={{ backgroundColor: '#22C55E' }}>
            Calculate
          </button>
        </div>
        {r && (
          <div className="mc-card p-6 mt-6 text-center" style={{ borderColor: '#22C55E40' }}>
            <p className="text-lg font-bold" style={{ color: '#22C55E' }}>{r}</p>
          </div>
        )}
      </div>
    </div>
  );
}