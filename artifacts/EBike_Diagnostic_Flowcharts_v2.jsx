'use client';
import{useState}from'react';
const F=[{"name":"No Assist","steps":[{"question":"Display on?","options":[{"label":"Yes","next":1},{"label":"No","next":2}]},{"question":"Motor engage when pedaling?","conclusion":"Check: speed sensor, brake cutoffs, error codes, torque sensor."},{"question":"Battery charged?","conclusion":"Check power connector, corrosion, water damage. If battery swollen, stop using."}]},{"name":"Reduced Range","steps":[{"question":"Battery age?","options":[{"label":"Under 2yr","next":1},{"label":"Over 2yr","next":1}]},{"question":"Assist level?","conclusion":"Eco vs Turbo = 2-3x range difference. Check tire pressure (-15% if low). Old battery loses 10-30%."}]}];
export default function EBikeFlow(){const[af,setAf]=useState(0);const[st,setSt]=useState(0);const fl=F[af],s=fl?.steps?.[st];return(<div className="min-h-screen bg-background"><header className="border-b border-border px-4 py-3"><div className="max-w-4xl mx-auto flex items-center gap-3"><a href="/ebike" className="text-text-muted hover:text-text-primary text-sm">\u2190 E-Bike</a><span className="text-border">|</span><h1 className="font-bold" style={{color:'#22C55E'}}>ðŸ”€ Diagnostic Flowcharts</h1></div></header><div className="max-w-4xl mx-auto px-4 py-8"><h2 className="text-2xl font-bold mb-2">Diagnostic Flowcharts</h2><p className="text-text-muted text-sm mb-6">Step-by-step e-bike diagnosis.</p><div className="flex flex-wrap gap-2 mb-8">{F.map((f,i)=>(<button key={i} onClick={()=>{setAf(i);setSt(0)}} className={\`px-3 py-1.5 rounded-full text-xs font-medium \${af===i?'text-white':'bg-surface text-text-muted border border-border'}\`} style={af===i?{backgroundColor:'#22C55E'}:{}}>{f.name}</button>))}</div>{s&&<div className="mc-card p-6"><div className="text-text-dim text-xs mb-2">Step {st+1}</div><h3 className="text-xl font-bold mb-4">{s.question}</h3><div className="space-y-2">{s.options?.map((o,j)=>(<button key={j} onClick={()=>setSt(o.next)} className="mc-card-hover p-3 w-full text-left text-sm">{o.label}</button>))}</div>{s.conclusion&&<div className="mt-4 p-4 rounded-mc border-2" style={{borderColor:'#22C55E40'}}><p className="font-bold mb-1" style={{color:'#22C55E'}}>Diagnosis:</p><p className="text-text-secondary text-sm whitespace-pre-line">{s.conclusion}</p></div>}{st>0&&<button onClick={()=>setSt(0)} className="mt-4 text-sm text-text-muted">\u21a9 Start Over</button>}</div>}</div></div>);}