'use client';
import{useState}from'react';
const D=[{"code":"E15","title":"Ninebot - Throttle Error","desc":"Throttle not at zero at startup.","severity":"moderate","causes":["Throttle pressed at power-on","Faulty throttle"],"fixes":["Release before powering on","Replace throttle"]},{"code":"E14","title":"Ninebot - Hall Sensor","desc":"Motor hall sensor fault.","severity":"high","causes":["Damaged sensors","Water damage"],"fixes":["Check cable","Motor replacement"]},{"code":"E21","title":"Ninebot - BMS Comm","desc":"Battery management comm lost.","severity":"moderate","causes":["Loose connector","BMS fault"],"fixes":["Reconnect battery","Update firmware"]},{"code":"Er 10","title":"Xiaomi - Motor Stall","desc":"Motor overloaded.","severity":"moderate","causes":["Heavy load uphill","Debris","Overheating"],"fixes":["Cool down","Clear debris","Reduce load"]},{"code":"E1","title":"Generic - Phase Error","desc":"Motor phase disconnected.","severity":"high","causes":["Loose connector","Damaged wire"],"fixes":["Check connector","Motor replacement"]},{"code":"E3","title":"Generic - Undervoltage","desc":"Battery too low.","severity":"moderate","causes":["Fully discharged","Dead cells"],"fixes":["Charge fully","Replace battery"]},{"code":"E5","title":"Generic - Overheat","desc":"Controller too hot.","severity":"moderate","causes":["Extended climbing","Hot ambient"],"fixes":["Cool down","Check vents"]}];
export default function ScootErrors(){const[s,setS]=useState('');const[x,setX]=useState(null);const f=D.filter(d=>!s||(d.code||'').toLowerCase().includes(s.toLowerCase())||d.title.toLowerCase().includes(s.toLowerCase())||d.desc.toLowerCase().includes(s.toLowerCase()));return(<div className="min-h-screen bg-background"><header className="border-b border-border px-4 py-3"><div className="max-w-4xl mx-auto flex items-center gap-3"><a href="/scooter" className="text-text-muted hover:text-text-primary text-sm">\u2190 Scooter</a><span className="text-border">|</span><h1 className="font-bold" style={{color:'#06B6D4'}}>ðŸ”§ Error Codes</h1></div></header><div className="max-w-4xl mx-auto px-4 py-8"><h2 className="text-2xl font-bold mb-6">Error Codes</h2><p className="text-text-muted text-sm mb-4">Search scooter error codes.</p><input type="text" value={s} onChange={e=>setS(e.target.value)} placeholder="Search E15, Er 10..." className="mc-input mb-6"/><div className="space-y-3">{f.map((d,i)=>(<div key={i} className="mc-card overflow-hidden"><button onClick={()=>setX(x===i?null:i)} className="w-full p-4 text-left hover:bg-background/50"><div className="flex items-start gap-4">{d.code&&<div className="font-mono font-bold text-lg w-20" style={{color:'#06B6D4'}}>{d.code}</div>}<div className="flex-1"><h3 className="font-semibold mb-1">{d.title}</h3><p className="text-text-muted text-sm">{d.desc}</p></div>{d.severity&&<span className="text-xs font-bold px-2 py-1 rounded" style={{backgroundColor:d.severity==='high'?'rgba(239,68,68,.15)':d.severity==='moderate'?'rgba(245,158,11,.15)':'rgba(34,197,94,.15)',color:d.severity==='high'?'#EF4444':d.severity==='moderate'?'#F59E0B':'#22C55E'}}>{d.severity}</span>}</div></button>{x===i&&<div className="border-t border-border p-4 bg-surface/50"><p className="text-text-secondary text-sm mb-3">{d.desc}</p>{d.causes&&<div className="grid grid-cols-1 md:grid-cols-2 gap-4"><div><h4 className="font-bold text-sm mb-2 text-danger">Causes</h4>{d.causes.map((c,j)=><p key={j} className="text-sm text-text-muted">\u2022 {c}</p>)}</div>{d.fixes&&<div><h4 className="font-bold text-sm mb-2 text-ebike">Fixes</h4>{d.fixes.map((f,j)=><p key={j} className="text-sm text-text-muted">{j+1}. {f}</p>)}</div>}</div>}<div className="mt-3 pt-3 border-t border-border"><a href="/ai-chat" className="text-sm hover:underline" style={{color:'#06B6D4'}}>\ud83e\udd16 Ask AI \u2192</a></div></div>}</div>))}</div></div></div>);}